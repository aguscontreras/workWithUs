<form
  id="employmentDataForm"
  [formGroup]="employmentDataForm"
  (ngSubmit)="onSubmit()"
>
  <p-panel header="Datos de empleo">
    <div class="form-group">
      <label for="cargo" class="form-group__label">Cargo</label>
      <input
        pInputText
        type="text"
        id="cargo"
        formControlName="cargo"
        aria-describedby="cargo-help"
        class="form-group__input"
      />
      <small
        id="cargo-help"
        class="form-group__helper form-group__helper--invalid"
        *ngIf="f['cargo'].invalid && submitted"
        >Completa este campo.</small
      >
    </div>

    <div class="form-group">
      <label for="nombreEmpresa" class="form-group__label">Empresa</label>
      <input
        pInputText
        type="text"
        id="nombreEmpresa"
        formControlName="nombreEmpresa"
        aria-describedby="nombreEmpresa-help"
        class="form-group__input"
      />
      <small
        id="nombreEmpresa-help"
        class="form-group__helper form-group__helper--invalid"
        *ngIf="f['nombreEmpresa'].invalid && submitted"
        >Completa este campo.</small
      >
    </div>

    <div class="form-group">
      <label for="sectorEmpresa" class="form-group__label"
        >Sector de la empresa</label
      >
      <p-dropdown
        [options]="sectorEmpresa"
        inputId="sectorEmpresa"
        formControlName="sectorEmpresa"
        styleClass="form-group__input"
        aria-describedby="sectorEmpresa-help"
        appendTo="body"
      ></p-dropdown>
      <small
        id="sectorEmpresa-help"
        class="form-group__helper form-group__helper--invalid"
        *ngIf="f['sectorEmpresa'].invalid && submitted"
        >Completa este campo.</small
      >
    </div>

    <div class="form-group">
      <label for="mesDesde" class="form-group__label">Período desde</label>

      <div class="row">
        <div class="col-md pe-md-2">
          <p-dropdown
            appDropdownMonth
            styleClass="form-group__input"
            aria-describedby="periodoDesde-help"
            formControlName="mesDesde"
            placeholder="Mes"
            appendTo="body"
          ></p-dropdown>
        </div>
        <div class="col-md-5 ps-md-0 mt-2 mt-md-0">
          <p-dropdown
            #anioDesde
            appDropdownYear
            styleClass="form-group__input"
            aria-describedby="periodoDesde-help"
            formControlName="anioDesde"
            placeholder="Año"
            appendTo="body"
            (onChange)="handleChangeAnioDesde($event.value)"
          ></p-dropdown>
        </div>
      </div>

      <small
        id="periodoDesde-help"
        class="form-group__helper form-group__helper--invalid"
        *ngIf="(f['mesDesde'].invalid || f['anioDesde'].invalid) && submitted"
      >
        Completa este campo.
      </small>
    </div>

    <div class="form-group mt-4 d-flex justify-content-center">
      <p-checkbox
        [binary]="true"
        formControlName="trabajaActualmente"
        label="Actualmente trabajo en este puesto"
        inputId="trabajaActualmente"
        (onChange)="handleChangeCheckTrabajaActualmente($event.checked)"
      ></p-checkbox>
    </div>

    <div class="form-group">
      <label for="mesHasta" class="form-group__label">Período hasta</label>

      <div class="row">
        <div class="col-md pe-md-2">
          <p-dropdown
            appDropdownMonth
            formControlName="mesHasta"
            styleClass="form-group__input"
            aria-describedby="periodoHasta-help"
            placeholder="Mes"
            appendTo="body"
          ></p-dropdown>
        </div>
        <div class="col-md-5 ps-md-0 mt-2 mt-md-0">
          <p-dropdown
            #anioHasta
            appDropdownYear
            formControlName="anioHasta"
            styleClass="form-group__input"
            aria-describedby="periodoHasta-help"
            placeholder="Año"
            appendTo="body"
          ></p-dropdown>
        </div>
      </div>

      <small
        *ngIf="(f['mesHasta'].invalid || f['anioHasta'].invalid) && submitted"
        id="periodoHasta-help"
        class="form-group__helper form-group__helper--invalid"
        >Completa este campo.</small
      >
    </div>

    <ng-template pTemplate="footer">
      <div class="row justify-content-end">
        <div class="col-auto">
          <button
            pButton
            id="btnCancelar"
            label="Cancelar"
            type="button"
            class="p-button-text"
            (click)="cancelarItem.emit()"
          ></button>
        </div>

        <div class="col-auto">
          <button
            pButton
            id="btnGuardar"
            icon="pi pi-save"
            label="Guardar"
            type="submit"
          ></button>
        </div>
      </div>
    </ng-template>
  </p-panel>
</form>
